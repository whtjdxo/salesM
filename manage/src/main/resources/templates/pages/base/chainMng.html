<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layouts/default}" layout:fragment="Content">
  <head>
    <title>가맹점 관리</title>
    <script src="/vendors/tinymce/tinymce.min.js"></script>
    <script src="/vendors/datatables.net/dataTables.min.js"></script>
    <script src="/vendors/datatables.net-bs5/dataTables.bootstrap5.min.js"></script>
    <script src="/vendors/datatables.net-fixedcolumns/dataTables.fixedColumns.min.js"></script>
    <script src="/vendors/dropzone/dropzone-min.js"></script>
    <script src="/js/jquery.form.js"></script>
    <link rel="stylesheet" href="/vendors/datatables.net-bs5/dataTables.bootstrap5.min.css" />
    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <!-- DataTables Select CSS 추가 -->
    <link rel="stylesheet" href="/css/custom-salesm.css" />

    <script th:inline="none">      
      function execDaumPostcode(target) {
        new daum.Postcode({
          oncomplete: function (data) {
            var roadAddr = data.roadAddress;
            if (target == 'corp') {
              document.getElementById('chain_addr').value = roadAddr;
              document.getElementById('chain_zip_no').value = data.zonecode;
            } else if (target == 'ceo') {
              document.getElementById('ceo_addr').value = roadAddr;
              document.getElementById('ceo_zip_no').value = data.zonecode;
            }
          },
        }).open();
      }
      $(document).ready(function () {           
        $('#frm_chain_info').onLoadFunction();     
        $('#frm_cont_info').onLoadFunction();     
        callAjax('/common/totalCodelist', "code_grp_cd=('BANK_CD')", fn_bank_setting);      
        function fn_bank_setting(data) {
          codeSetting('BANK_CD', data.data, '#abank_cd', '1', '', '');
          codeSetting('BANK_CD', data.data, '#bbank_cd', '1', '', '');
        }
        
        callAjax('/common/getCreditCorpList', "", fn_credit_list_setting);      
        function fn_credit_list_setting(data) { 
          codeSetting('CORP_CD', data.data, '#sch_corp_cd', '1', '', '');          
          codeSetting('CORP_CD', data.data, '#corp_cd', '1', '', '');
        }

        callAjax('/common/getAgencyList', "", fn_agency_list_setting);
        function fn_agency_list_setting(data) {
          codeSetting('AGENCY_NO', data.data, '#sch_agency_no', '1', '', '');
          codeSetting('AGENCY_NO', data.data, '#agency_no', '1', '', '');
        }

        callAjax('/common/totalCodelist', "code_grp_cd=('SVC_STAT')", fn_svc_stat_setting);      
        function fn_svc_stat_setting(data) {
          codeSetting('SVC_STAT', data.data, '#sch_svc_stat', '1', '', '');
          codeSetting('SVC_STAT', data.data, '#svc_stat', '1', '', '');
        }

        callAjax('/common/totalCodelist', "code_grp_cd=('REMIT_OVER_STAT_CD')", fn_remit_over_stat_cd_setting);      
        function fn_remit_over_stat_cd_setting(data) {
          codeSetting('REMIT_OVER_STAT_CD', data.data, '#remit_over_stat_cd', '1', '', '');
        }

        callAjax('/common/totalCodelist', "code_grp_cd=('RISK_REASON_CD')", fn_risk_reason_cd_setting);      
        function fn_risk_reason_cd_setting(data) {
          codeSetting('RISK_REASON_CD', data.data, '#risk_reason_cd', '1', '', '');
        }

        callAjax('/common/totalCodelist', "code_grp_cd=('ACCOUNT_TP')", fn_account_tp_setting);      
        function fn_account_tp_setting(data) {
          codeSetting('ACCOUNT_TP', data.data, '#abank_account_tp', '1', '', '');
        }

        callAjax('/common/totalCodelist', "code_grp_cd=('ABANK_LINK_STAT')", fn_abank_link_setting);      
        function fn_abank_link_setting(data) {
          codeSetting('ABANK_LINK_STAT', data.data, '#abank_link_stat', '1', '', '');
        }

        abank_link_stat
        
        var tbl_chain = $('#tbl_chain').DataTable({
          processing: true,
          serverSide: true,
          select: true,
          responsive: true,
          ajax: {
            url: '/base/organ/chainMng/list',
            contentType: 'application/json',
            dataType: 'JSON',
            type: 'POST',            
            data: function (postData) {
              formData = $('#frm_sch').serializeObject();
              Object.assign(postData, formData);
              return JSON.stringify(postData);
            },
          },
            columns: [
                { data: 'chain_no' }
                , { data: 'chain_nm' }
                , { data: 'biz_no' }                
                , { data: 'ceo_nm' }
                , { data: 'ceo_tel_no' }
                , { data: 'tot_limit_amt' }                

                , { data: 'tot_use_amt' }
                , { data: 'corp_nm' }
                , { data: 'agency_nm' }
                , { data: 'svc_stat_nm' }
                , { data: 'remit_stat_nm' }                
              ],
            columnDefs: [           
            { targets: 0, width: '100px', className: 'text-center' },
            { targets: 1, width: '150px', className: 'text-left' },
            { targets: 2, width: '100px', className: 'text-center' },
            { targets: 3, width: '100px', className: 'text-center' },
            { targets: 4, width: '120PX', className: 'text-right' },
            { targets: 5, width: '120PX', className: 'text-right' },
            { targets: 6, width: '120px', className: 'text-center' },
            { targets: 7, width: '120px', className: 'text-center' },
            { targets: 8, width: '80px', className: 'text-center' },
            { targets: 8, width: '80px', className: 'text-center' },
          ],  
          order: [[1, 'desc']],
          paging: true,
          lengthChange: false,
          searching: false,
          ordering: true,
          autoWidth: false,
          responsive: true,
          scrollCollapse: true,
          pageLength: 20,
          scrollY: '550px',
          info: false,
          language: {
            emptyTable: '데이터가 없습니다.',
            search: '검색:',
            zeroRecords: '일치하는 데이터가 없습니다.',
            loadingRecords: '로딩중...',
            processing: '처리중...',
          },
        });

        $('#btn_search').click(function () {
          tbl_chain.ajax.reload();
        });
        
        $('#tbl_chain').on('click', 'tr', function () {
          if ($(this).hasClass('selected')) {
            $(this).removeClass('selected');
          } else {
            tbl_chain.$('tr.selected').removeClass('selected');
            $(this).addClass('selected');
          }
          var data = tbl_chain.row(this).data();
          if (data) {
            $('#frm_chain_info')[0].reset();
            $('#frm_cont_info')[0].reset();
            $('#frm_van_info')[0].reset();
            $('#frm_card_info')[0].reset();
            $('#frm_file_info')[0].reset();
            $('#corp_cd').val(data.corp_cd);              
            $('#agency_no').val(data.agency_no);    
            $('#chain_no').val(data.chain_no);            
            $('#cont_chain_no').val(data.chain_no);            
            $('#van_chain_no').val(data.chain_no);            
            $('#card_chain_no').val(data.chain_no);            
            $('#file_chain_no').val(data.chain_no);
                       
            $('#chain_nm').val(data.chain_nm);
            $('#biz_no').val(data.biz_no);
            $('#upjong').val(data.upjong);            
            $('#uptae').val(data.uptae);
            $('#chain_zip_no').val(data.chain_zip_no);
            $('#cont_dt').val(data.cont_dt);
            $('#chain_addr').val(data.chain_addr);
            $('#chain_addr_dtl').val(data.chain_addr_dtl);
            $('#chain_tel_no').val(data.chain_tel_no);
            
            $('#ceo_id').val(data.ceo_id);
            $('#ceo_birth_dt').val(data.ceo_birth_dt);
            $('#ceo_regno').val(data.ceo_regno);
            $('#ceo_nm').val(data.ceo_nm);
            $('#ceo_zip_no').val(data.ceo_zip_no);
            $('#ceo_addr').val(data.ceo_addr);
            $('#ceo_addr_dtl').val(data.ceo_addr_dtl);            
            $('#ceo_tel_no').val(data.ceo_tel_no);            
            $('#email').val(data.email);

            $('#assure_amt').val(data.assure_amt);
            $('#insure_amt').val(data.insure_amt);
            $('#ass_sdate').val(data.ass_sdate);
            $('#ass_edate').val(data.ass_edate);
            $('#remark').val(data.remark);
            $('#svc_stat').val(data.svc_stat);
            $('#svc_fee_rate').val(data.svc_fee_rate);
            $('#crd_fee_rate').val(data.crd_fee_rate);
            $('#loan_fee_rate').val(data.loan_fee_rate);
            $('#bank_cd').val(data.bank_cd);
            $('#account_no').val(data.account_no);
            $('#depositor').val(data.depositor);
            $('#yubo_limit').val(data.yubo_limit);
            $('#yubo_rate').val(data.yubo_rate);
            $('#tot_yubo_amt').val(data.tot_yubo_amt);
            $("input:radio[name='use_yn'][value='" + data.use_yn + "']").prop('checked', true); 
            $('#upt_user_id').val(data.upt_user_id);
            $('#upt_dttm').val(data.upt_dttm);   

            $('#btn_update').show();
            $('#btn_create').hide();            
            $('#btn_dupchk').hide();

            $('#ceo_pwd').removeAttr("required");
            $('#ceo_id').attr("readonly", "readonly");            
            // $('#ceo_pwd').attr("required", "required");            

            if(data.abank_cd=="039"){
              $('#knbank_info').show();
              $('#abank_link_agree_dt').attr("required", "required");            
              $('#abank_link_stat').attr("required", "required");            
            }else{
              $('#knbank_info').hide();
              $('#abank_link_agree_dt').removeAttr("required");
              $('#abank_link_stat').removeAttr("required");
            }
            
            $('#crud').val('update'); 
          }  
        });      

        $('#btn_clear').click(function () {
          $('#frm_chain_info').clearForm();
          $('#frm_cont_info')[0].clearForm();
          $('#frm_van_info')[0].clearForm();
          $('#frm_card_info')[0].clearForm();
          $('#frm_file_info')[0].clearForm();

          $("input:radio[name='use_yn'][value='Y']").prop('checked', true);
          $('#btn_update').hide();
          $('#btn_create').show();
          $('#btn_dupchk').show(); 
          $('#ceo_pwd').attr("required", "required");
          $('#ceo_id').removeAttr("readonly");  
        }); 

        $('#btn_dupchk').click(function () {
          var ceo_id = $('#ceo_id').val();
          alert (ceo_id);
          if (ceo_id == '') {
            swal('실패', '대표자 ID를 입력하세요.', 'error');
            return;
          } else {
            callAjax('/base/user/userMng/getUserIdDupChk', 'user_id=' + ceo_id, fn_ceo_dupchk);
          }
        });
        function fn_ceo_dupchk(data) {
          var resultCode = data.resultCode;
          var resultMsg = data.resultMsg;
          if (resultCode == 'S000') {
            swal('성공', '사용가능한 대표자 ID입니다.', 'success');
          } else {
            swal('실패', resultMsg, 'error');
          }
        } 

        $('#btn_create').click(function () {
          $('#crud').val('create');
          var form = $('#frm_chain_info');
          var checked = true;
          $.each(form, function (i, val) {
            if (!val.checkValidity()) {
              checked = false;
            }
          });
          if (checked) {
            ConfirmdialogToAjax('create', '/base/organ/chainMng/insertChain', $('#frm_chain_info').serialize(), fn_return_result);
          } 
        });

        $('#btn_update').click(function () {
          $('#crud').val('update');
          var form = $('#frm_chain_info');
          var checked = true;
          var chain_no = $('#chain_no').val();
          if(chain_no == '') {
            swal('실패', "가맹점을 먼저 선택해주세요.", 'error');
            checked = false;
            return;
          }

          $.each(form, function (i, val) {
            if (!val.checkValidity()) {
              checked = false;
            }
          });
          
          if (checked) {
            ConfirmdialogToAjax('update', '/base/organ/chainMng/updateChain', $('#frm_chain_info').serialize(), fn_return_result);
          }
        });    

        $('#btn_cont_update').click(function () {
          $('#crud').val('update');
          var chain_no = $('#chain_no').val();
          var form = $('#frm_chain_info');
          var checked = true;
          if(chain_no == '') {
            swal('실패', "가맹점을 먼저 선택해주세요.", 'error');
            checked = false;
            return;
          }
          if (checked) {
            ConfirmdialogToAjax('update', '/base/organ/chainMng/UpdateAgencyCont', $('#frm_chain_info').serialize(), fn_return_result);
          }
        }); 

        function fn_return_result(data) {
          var resultCode = data.resultCode;
          var resultMsg = data.resultMsg;
          if (resultCode == 'S000') {
            swal('성공', '작업을 정상적으로 완료하였습니다.', 'success');
            $('#frm_chain_info')[0].reset();    
            tbl_chain.ajax.reload();        
            $("input:radio[name='use_yn'][value='Y']").prop('checked', true);
            $('#btn_update').hide();
            $('#btn_create').show();  
            $('#ceo_pwd').attr("required", "required");
            // $('#tbl_chain').setGridParam({ url: '/base/organ/chainMng/list', page: 1, datatype: 'json' }).trigger('reloadGrid');            
          } else {
            swal('실패', resultMsg, 'error');
          }
        }
      });
    </script>
  </head>
  <div class="content">
    
    <div class="row g-3 mb-2">
      <div class="col-lg-8">
        <div class="card">
          <div class="card-header">
            <div class="row flex-between-end">
              <div class="col-auto align-self-center">
                <h5 class="mb-0">가맹점 목록</h5>
              </div>
              <div class="col-lg-8">
                <form id="frm_sch" name="frm_sch" onsubmit="return false;" novalidate="">
                  <div class="input-group input-group-sm px-3">
                    <select class="form-select form-control-sm" id="sch_corp_cd" name="sch_corp_cd" style="width: 75px">
                      <option value="">여신사</option>
                    </select>
                    <select class="form-select form-control-sm" id="sch_agency_no" name="sch_agency_no" style="width: 75px">
                      <option value="">대리점</option>
                    </select>
                    <select class="form-select form-control-sm" id="schgb_chain" name="schgb_chain" style="width: 80px">
                      <option value="">선택</option>
                      <option value="schgb_chain_no">가맹점 번호</option>
                      <option value="schgb_chain_nm">가맹점 명</option>
                      <option value="schgb_biz_no">사업자 번호</option>
                      <option value="schgb_ceo_nm">대표자 명</option>
                    </select>
                    <input type="text" class="form-control form-control-sm" id="schgb_chain_val" name="schgb_chain_val" style="width: 15%" />
                    <select class="form-select form-control-sm" id="sch_svc_stat" name="sch_svc_stat" style="width: 50px">
                      <option value="">계약</option>                      
                    </select>
                    <span class="input-group-btn"><button type="button" class="btn btn-primary btn-sm" id="btn_search" name="btn_search">조회</button></span>
                  </div>
                </form>
              </div>
            </div>
          </div>
          
          <div class="card-body pt-0 px-0" style="padding-top: 0px">
            <div class="table-responsive scrollbar">
              <table class="table table-striped table-sm fs-9 mb-0 table-hover" id="tbl_chain">
                <thead>
                  <tr>
                    <th class="text-center">가맹점 NO</th>
                    <th class="text-center">가맹점 명</th>
                    <th class="text-center">사업자 번호</th>                    
                    <th class="text-center">대표자 명</th>
                    <th class="text-center">대표 연락처</th>
                    <th class="text-center">한도금액</th>
                    <th class="text-center">즉결잔고</th>
                    <th class="text-center">여신사</th>
                    <th class="text-center">대리점</th> 
                    <th class="text-center">계약</th>
                    <th class="text-center">출금</th>                    
                  </tr>
                </thead>
                <tbody class="list"></tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-4">
        <div class="card">
          <!-- <div class="card-header">
            <div class="row flex-between-end">
              <div class="col-auto align-self-center">
                <h5 class="mb-0">가맹점 상세</h5>
              </div>
            </div>
          </div> -->
          <div class="card-body">
            <div class="min-vh-50">
              <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="chain_info_tab" data-bs-toggle="tab" href="#tab_chain_info" role="tab" aria-controls="tab_chain_info" aria-selected="true">일반 정보</a>
                </li>
                <li class="nav-item"><a class="nav-link" id="cont_info_tab" data-bs-toggle="tab" href="#tab_cont_info" role="tab" aria-controls="tab_cont_info" aria-selected="false">계약 정보</a></li>
                <li class="nav-item"><a class="nav-link" id="van_info_tab" data-bs-toggle="tab" href="#tab_van_info" role="tab" aria-controls="tab_van_info" aria-selected="false">VAN 정보</a></li>
                <li class="nav-item"><a class="nav-link" id="card_info_tab" data-bs-toggle="tab" href="#tab_card_info" role="tab" aria-controls="tab_card_info" aria-selected="false">매입 정보</a></li>
                <li class="nav-item"><a class="nav-link" id="file_info_tab" data-bs-toggle="tab" href="#tab_file_info" role="tab" aria-controls="tab_file_info" aria-selected="false">파일 관리</a></li>
              </ul>
              <div class="tab-content border border-top-2 p-3" id="myTabContent">                
                <!-- 일반정보 TAB ----------------------------------------------------------------------------------------------------------------- -->    
                <div class="tab-pane fade show active" id="tab_chain_info" role="tabpanel" aria-labelledby="chain_info_tab">
                  <form class="needs-validation" id="frm_chain_info" name="frm_chain_info" onsubmit="return false;" method="post" novalidate=""> 
                    <div class="row mb-1">
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-0">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="corp_cd">여신사</label>  
                          <div class="col-sm-8">
                            <select class="form-select form-control-sm" id="corp_cd" name="corp_cd" required>
                              <option value="">여신사</option>
                            </select>  
                          </div>         
                        </div>
                      </div>
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="agency_no">대리점</label>  
                          <div class="col-sm-8">
                            <select class="form-select form-control-sm" id="agency_no" name="agency_no" required>
                              <option value="">대리점</option>
                            </select>    
                          </div>
                        </div>
                      </div>
                    </div>    
                    <div class="row mb-1">
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="chain_no">가맹점번호</label>                      
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="chain_no" type="text" name="chain_no" readonly="readonly" />
                          </div>     
                        </div>
                      </div>
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="chain_nm">가맹점 명</label>                      
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="chain_nm" type="text" name="chain_nm"  maxlength="20" required />    
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="row mb-1">
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="biz_no">사업자 번호</label>                      
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="biz_no" type="text" name="biz_no" maxlength="15" required />                    
                          </div>     
                        </div>
                      </div>
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="law_no">법인 번호</label>  
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="law_no" type="text" name="law_no" maxlength="15" />
                          </div>   
                        </div>
                      </div>
                    </div> 
                    <div class="row mb-1">
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="upjong">업종</label>                      
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="upjong" type="text" name="upjong" maxlength="30" />               
                          </div>     
                        </div>
                      </div>
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="uptae">업태</label>  
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="uptae" type="text" name="uptae" maxlength="30" />
                          </div>   
                        </div>
                      </div>
                    </div>
                    
                    <div class="row mb-1">
                      <div class="input-group input-group-sm mb-1">
                        <label class="col-sm-2 col-form-label col-form-label-sm" for="chain_tel_no">연락처</label>                      
                        <div class="col-sm-10">
                          <input class="form-control form-control-sm" id="chain_tel_no" type="text" name="chain_tel_no" placeholder="010-000-0000" istyle="phone" required /> 
                        </div>     
                      </div> 
                    </div>
                    <div class="row mb-1"> 
                      <div class="input-group input-group-sm mb-1">
                        <label class="col-sm-2 col-form-label col-form-label-sm" for="uptae">eMail</label>  
                        <div class="col-sm-10">
                          <input class="form-control form-control-sm" id="email" type="email" name="email" placeholder="example@email.com" istyle="email"/> 
                        </div>   
                      </div> 
                    </div>
                    <div class="row mb-1"> 
                      <div class="input-group input-group-sm mb-2"> 
                        <label class="col-sm-2 col-form-label col-form-label-sm" for="addr">가맹점 주소</label>                     
                        <div class="col-sm-10">
                          <div class="input-group input-group-sm">
                            <input type="hidden" class="form-control form-control-sm" id="chain_zip_no" name="chain_zip_no" required />
                            <input type="text" class="form-control form-control-sm" id="chain_addr" name="chain_addr" readonly="readonly" required />
                            <button type="button" class="btn btn-primary" onclick="execDaumPostcode('corp')">주소검색</button>
                          </div>                    
                          <!-- 상세 주소 입력 -->
                          <input type="text" class="form-control form-control-sm mt-2" id="chain_addr_dtl" name="chain_addr_dtl" placeholder="상세 주소" required />
                        </div>
                      </div>
                    </div>  
                    <div class="row mb-3 mt-1 mb-1 fw-bold fs-8 border-bottom pb-1"></div> 
                    <div class="row mb-1">
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="ceo_id">대표자 ID</label>                     
                          <div class="col-sm-8">
                            <div class="input-group input-group-sm">
                              <input type="text" class="form-control form-control-sm" id="ceo_id" name="ceo_id" required maxlength="20" />
                              <button type="button" class="btn btn-primary" id="btn_dupchk">중복</button>
                            </div>
                          </div> 
                        </div>
                      </div>  
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="ceo_pwd">PASSWORD</label>                  
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="ceo_pwd" type="password" name="ceo_pwd" maxlength="20" required /> 
                          </div>
                        </div> 
                      </div>
                    </div> 
                    <div class="row mb-1">  
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="ceo_nm">대표자 명</label>                  
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="ceo_nm" type="text" name="ceo_nm" maxlength="20" required /> 
                          </div>     
                        </div>
                      </div>
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="ceo_birth_dt">생년월일</label>
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="ceo_birth_dt" type="text" name="ceo_birth_dt" istyle="date" maxlength="10" required />
                          </div>   
                        </div>
                      </div> 
                    </div>
                    
                    <div class="row mb-1">                           
                      <div class="input-group input-group-sm mb-1">
                        <label class="col-sm-2 col-form-label col-form-label-sm" for="ceo_tel_no">연락처</label>                  
                        <div class="col-sm-10">
                          <input class="form-control form-control-sm" id="ceo_tel_no" type="text" name="ceo_tel_no" placeholder="010-000-0000" istyle="phone" required /> 
                        </div>                  
                      </div>
                    </div>
                    <div class="row mb-1"> 
                      <div class="input-group input-group-sm mb-2"> 
                        <label class="col-sm-2 col-form-label col-form-label-sm" for="ceo_addr">대표자 주소</label>                     
                        <div class="col-sm-10">
                          <div class="input-group input-group-sm">
                            <input type="hidden" class="form-control form-control-sm" id="ceo_zip_no" name="ceo_zip_no" required />
                            <input type="text" class="form-control form-control-sm" id="ceo_addr" name="ceo_addr" readonly="readonly" required />
                            <button type="button" class="btn btn-primary" onclick="execDaumPostcode('ceo')">주소검색</button>
                          </div> 
                          <input type="text" class="form-control form-control-sm mt-2" id="ceo_addr_dtl" name="ceo_addr_dtl" placeholder="상세 주소" required />
                        </div>
                      </div>
                    </div>   
                    <div class="row mb-1">
                      <div class="input-group input-group-sm mb-2">
                        <label class="col-sm-2 col-form-label col-form-label-sm" for="remark">Memo</label>
                        <div class="col-sm-10">
                          <textarea class="form-control"  id="remark" rows="2" name="remark"></textarea> 
                        </div>
                      </div>
                    </div>
                    <div class="row mb-1"> 
                      <div class="input-group input-group-sm mb-2"> 
                        <label class="col-sm-2 col-form-label col-form-label-sm" for="addr">수정자 / 일</label>                     
                        <div class="col-sm-10">
                          <div class="input-group input-group-sm">
                            <input type="text" class="form-control form-control-sm" id="upt_user_id" name="upt_user_id" readonly="readonly" disabled />
                            <input type="text" class="form-control form-control-sm" id="upt_dttm" name="upt_dttm" readonly="readonly" disabled /> 
                          </div>                    
                        </div>
                      </div>   
                    </div>
                    <div class="card-footer">  
                      <p class="text-end pb-1 mb-1 pd-1">
                        <button class="btn btn-info text-end" id="btn_clear"><i class="fa fa-check"></i>신규</button>
                        <button class="btn btn-primary text-end" id="btn_update" style="display: none"><i class="fa fa-paste"></i>저장</button>
                        <button class="btn btn-primary text-end" id="btn_create"><i class="fa fa-paste"></i>저장</button>
                      </p>
                    </div>
                  </form>  
                </div>     
                <!-- 계약정보 TAB ----------------------------------------------------------------------------------------------------------------- -->               
                <div class="tab-pane fade" id="tab_cont_info" role="tabpanel" aria-labelledby="cont_info_tab">
                  <form class="needs-validation" id="frm_cont_info" name="frm_cont_info" onsubmit="return false;" method="post" novalidate="">
                    <input id="cont_chain_no" type="hidden" name="cont_chain_no" />
                    <div class="row mb-1">
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="cont_dt">계약일</label>  
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="cont_dt" name = "cont_dt" type="text" istyle="date" required>
                          </div>         
                        </div>
                      </div>
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="svc_stat">계약</label>  
                          <div class="col-sm-8">
                            <select class="form-select form-control-sm" id="svc_stat" name="svc_stat"  required>
                              <option value="">계약상태</option>
                            </select>
                          </div>
                        </div>
                      </div>
                    </div>                    
                    <div class="row mb-1">
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="svc_start_dt">시작일</label>  
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="svc_start_dt" name = "svc_start_dt" type="text" istyle="date" required />
                          </div>         
                        </div>
                      </div>
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="svc_end_dt">종료일</label>  
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="svc_end_dt" name = "svc_end_dt" type="text" placeholder="yyyy-mm-dd" istyle="date" />
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="row mb-1">
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="svc_rate">정산 수수료</label>  
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="svc_rate" type="text" name="svc_rate" placeholder="00.00" istyle="float" required maxlength="4" />
                          </div>         
                        </div>
                      </div>
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="etc_rate">기타 수수료</label>  
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="etc_rate" type="text" name="etc_rate" placeholder="00.00" istyle="float" maxlength="4" />
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="row mb-1">
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="crd_rate">여신 수수료</label>  
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="crd_rate" type="text" name="crd_rate" placeholder="00.0" istyle="float" maxlength="4" required />
                          </div>         
                        </div>
                      </div>
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="crd_delay_rate">연체 수수료</label>  
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="crd_delay_rate" type="text" name="crd_delay_rate" placeholder="00.0" istyle="float" maxlength="4" required />
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="row mb-1">
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="tot_limit_amt">약정 한도액</label>  
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="tot_limit_amt" type="text" name="tot_limit_amt" placeholder="100,000,000" istyle="amount" maxlength="10" required />
                          </div>         
                        </div>
                      </div>
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="unit_limit_amt">건 한도액</label>  
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="unit_limit_amt" type="text" name="unit_limit_amt" placeholder="100,000,000" istyle="amount" maxlength="10" required />
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="row mb-1">
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="day_use_rate">일 한도율</label>  
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="day_use_rate" type="text" name="day_use_rate" placeholder="00.0" istyle="float" maxlength="3" required />
                          </div>         
                        </div>
                      </div>
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="day_use_amt">일일 한도액</label>  
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="day_use_amt" type="text" name="day_use_amt" placeholder="100,000,000" istyle="amount" maxlength="10" required />
                          </div>
                        </div>
                      </div>
                    </div> 
                    <!-- 입금계좌 ----------------------------------------------------------------------------------------------------------------- -->
                    <div class="mt-2 mb-2 fw-bold fs-8 border-bottom pb-1 text-primary"></div>
                    
                    <div class="row mb-1">
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="abank_cd">입금 은행</label>  
                          <div class="col-sm-8">
                            <select class="form-select form-select-sm" id="abank_cd" placeholder="" name="abank_cd" required>
                              <option value="">선택</option>
                            </select>                        
                          </div>         
                        </div>
                      </div>
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="abank_depositor">예금주</label>  
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="abank_depositor" type="text" name="abank_depositor" required />      
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="row mb-1">
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="abank_account_no">계좌 정보</label>  
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="abank_account_no" type="text" name="abank_account_no" istyle="number" maxlength="12" required />
                          </div>
                        </div>
                      </div>
                      <div class="col-sm-2">
                        <div class="input-group input-group-sm mb-1">
                          <div class="col-sm">
                            <input class="form-control form-control-sm" id="abank_pwd" type="text" name="abank_pwd" maxlength="4"/ placeholder="pwd" required>                             
                          </div>
                        </div> 
                      </div>
                      <div class="col-sm-4">
                        <div class="col-sm form-check">
                          <select class="form-select form-select-sm" id="abank_account_tp" placeholder="" name="abank_account_tp" >
                            <option value="">선택</option>
                          </select>
                        </div>
                      </div>                      
                    </div>
                    <div class="row mb-1">
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="abank_search_id">조회 ID</label>  
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="abank_search_id" type="text" name="abank_search_id"  />      
                          </div>         
                        </div>
                      </div>
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="abank_search_pwd">조회PWD</label>  
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="abank_search_pwd" type="text" name="abank_search_pwd"  />      
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="row mb-1" id="knbank_info" name="knbank_info">
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="abank_link_agree_dt">경남 동의일</label>  
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="abank_link_agree_dt" name = "abank_link_agree_dt" type="text" istyle="date" readonly="readonly">                      
                          </div>         
                        </div>
                      </div>
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="abank_link_stat">연동상태</label>                            
                          <div class="col-sm">
                            <select class="form-select form-select-sm" id="abank_link_stat" placeholder="" name="abank_link_stat" >
                              <option value="">선택</option>
                            </select>  
                          </div>                            
                          <span class="input-group-btn"><button type="button" class="btn btn-primary btn-sm" id="btn_bank_link_stat_change" name="btn_bank_link_stat_change">변경</button></span> 
                        </div>  
                      </div>
                    </div>  
                    
                    <!-- 출금계좌 ----------------------------------------------------------------------------------------------------------------- -->
                    <div class="mt-2 mb-2 fw-bold fs-8 border-bottom pb-1 text-primary"></div>                    
                    <div class="row mb-1">
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="bbank_cd">출금 은행</label>  
                          <div class="col-sm-8">
                            <select class="form-select form-select-sm" id="bbank_cd" name="bbank_cd" required>
                              <option value="">선택</option>
                            </select>                        
                          </div>         
                        </div>
                      </div>
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="bbank_account_no">계좌번호</label>  
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="bbank_account_no" type="text" name="bbank_account_no" istyle="number" maxlength="12" />
                          </div>
                        </div>
                      </div>                      
                    </div>
                    <div class="row mb-1">
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="bbank_depositor">예금주</label>  
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="bbank_depositor" type="text" name="bbank_depositor"  />      
                          </div>
                        </div>
                      </div>
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="remit_trans_fee">이체수수료</label>  
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="remit_trans_fee" type="text" name="remit_trans_fee"  />      
                          </div>
                        </div>
                      </div>             
                    </div>
                    <div class="row mb-1">
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="remit_stat">출금 상태</label>  
                          <select class="form-select form-select-sm" id="remit_stat" placeholder="" name="remit_stat" >
                            <option value="">선택</option>
                            <option value="Y">출금</option>
                            <option value="N">정지</option>
                          </select>
                        </div>
                      </div>  
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="remit_start_dt">출금게시일</label>  
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="remit_start_dt" name = "remit_start_dt" type="text" placeholder="yyyy-mm-dd" istyle="date" readonly="readonly">                      
                          </div>         
                        </div>
                      </div>                      
                    </div>     
                    <div class="row mb-1">
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="remit_over_stat">과입 출금</label>  
                          <select class="form-select form-select-sm" id="remit_over_stat" placeholder="" name="remit_over_stat" >
                            <option value="">선택</option>
                            <option value="Y">출금</option>
                            <option value="N">정지</option>
                          </select>
                        </div>
                      </div>      
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="remit_over_stat_cd">정지사유</label>  
                          <select class="form-select form-select-sm" id="remit_over_stat_cd" placeholder="" name="remit_over_stat_cd" disabled>
                            <option value="">선택</option>
                          </select>
                        </div>
                      </div>                                            
                    </div> 
                    <div class="row mb-1">
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="risk_stat">RM 상태</label>  
                          <select class="form-select form-select-sm" id="risk_stat" placeholder="" name="risk_stat" >
                            <option value="">선택</option>
                            <option value="N">정상</option>
                            <option value="D">위험</option>
                          </select>
                        </div>
                      </div>      
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="risk_reason_cd">리스크 사유</label>  
                          <select class="form-select form-select-sm" id="risk_reason_cd" placeholder="" name="risk_reason_cd" disabled>
                            <option value="">선택</option>
                          </select>
                        </div>
                      </div>                                            
                    </div> 
                    <!-- 기타 속성 ----------------------------------------------------------------------------------------------------------------- -->
                    <div class="mt-2 mb-2 fw-bold fs-8 border-bottom pb-1 text-primary"></div>
                    
                    <div class="row mb-1">
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="cardsales_id">여신협 ID</label>  
                          <div class="col-sm-8">
                            <select class="form-select form-select-sm" id="cardsales_id" placeholder="" name="cardsales_id" maxlength="20" >
                              <option value="">선택</option>
                            </select>                        
                          </div>         
                        </div>
                      </div>
                      <div class="col-sm-6">
                        <div class="input-group input-group-sm mb-1">
                          <label class="col-sm-4 col-form-label col-form-label-sm" for="cardsales_pwd">여신협PWD</label>  
                          <div class="col-sm-8">
                            <input class="form-control form-control-sm" id="cardsales_pwd" type="text" name="cardsales_pwd" maxlength="20" />
                          </div>
                        </div>
                      </div>                      
                    </div>
                    <div class="row mb-1"> 
                      <div class="input-group input-group-sm mb-2">
                        <label class="col-sm-2 col-form-label col-form-label-sm" for="use_yn">사용여부</label>
                        <div class="col-sm-10">
                          <div class="form-check form-check-inline">
                            <input class="form-check-input" id="use_yn_y" type="radio" name="use_yn" value="Y" required />
                            <label class="form-check-label" for="use_yn_y">예</label>
                          </div>
                          <div class="form-check form-check-inline">
                            <input class="form-check-input" id="use_yn_n" type="radio" name="use_yn" value="N" required />
                            <label class="form-check-label" for="use_yn_n">아니요</label>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="card-footer">  
                      <p class="text-end pb-1 mb-1 pd-1">
                        <button class="btn btn-primary text-end" id="btn_cont_update"><i class="fa fa-paste"></i>저장</button>
                      </p>
                    </div>                       
                  </form>  
                </div>
                <!-- VAN 정보보 TAB ----------------------------------------------------------------------------------------------------------------- -->               
                
                <div class="tab-pane fade" id="tab_van_info" role="tabpanel" aria-labelledby="van_info_tab"> 
                  <form class="needs-validation" id="frm_van_info" name="frm_van_info" onsubmit="return false;" method="post" novalidate=""> 
                    <input id="van_chain_no" type="hidden" name="van_chain_no" />
                    <div>VAN INFO</div>
                    <div class="card-footer">  
                      <p class="text-end pb-1 mb-1 pd-1">
                        <button class="btn btn-info text-end" id="btn_van_clear"><i class="fa fa-check"></i>신규</button>
                        <button class="btn btn-primary text-end" id="btn_van_update" style="display: none"><i class="fa fa-paste"></i>저장</button>
                        <button class="btn btn-primary text-end" id="btn_van_create"><i class="fa fa-paste"></i>저장</button>
                      </p>
                    </div>
                  </form>                  
                </div>

                <!-- CARD 정보 TAB ----------------------------------------------------------------------------------------------------------------- -->               
                
                <div class="tab-pane fade" id="tab_card_info" role="tabpanel" aria-labelledby="card_info_tab"> 
                  <form class="needs-validation" id="frm_card_info" name="frm_card_info" onsubmit="return false;" method="post" novalidate=""> 
                    <input id="card_chain_no" type="hidden" name="card_chain_no" />
                    <div>CARD INFO</div>
                    <div class="card-footer">  
                      <p class="text-end pb-1 mb-1 pd-1">
                        <button class="btn btn-info text-end" id="btn_card_clear"><i class="fa fa-check"></i>신규</button>
                        <button class="btn btn-primary text-end" id="btn_card_update" style="display: none"><i class="fa fa-paste"></i>저장</button>
                        <button class="btn btn-primary text-end" id="btn_card_create"><i class="fa fa-paste"></i>저장</button>
                      </p>
                    </div>
                  </form> 
                </div>      

                <!-- File 정보 TAB ----------------------------------------------------------------------------------------------------------------- -->               
                <div class="tab-pane fade" id="tab_file_info" role="tabpanel" aria-labelledby="file_info_tab"> 
                  <form class="needs-validation" id="frm_file_info" name="frm_file_info" onsubmit="return false;" method="post" novalidate="">                   
                    <input id="file_chain_no" type="hidden" name="file_chain_no" />
                    <div>FILE INFO</div>
                    <div class="card-footer">  
                      <p class="text-end pb-1 mb-1 pd-1">
                        <button class="btn btn-info text-end" id="btn_file_clear"><i class="fa fa-check"></i>신규</button>
                        <button class="btn btn-primary text-end" id="btn_file_update" style="display: none"><i class="fa fa-paste"></i>저장</button>
                        <button class="btn btn-primary text-end" id="btn_file_create"><i class="fa fa-paste"></i>저장</button>
                      </p>
                    </div>
                  </form> 
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>      
    </div>    
  </div>  
</html>
